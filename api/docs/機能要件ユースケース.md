# 機能要件・ユースケース

## 機能要件
### webサイト
- 地図上での不審者概要一覧表示機能
- 地図上での不審者詳細表示機能
- 地図上での不審者登録機能
- 目撃機能
- 目撃時刻追加機能
- ログイン機能
### バッチ
- 目撃件数集計
    - その日の目撃件数を集計して不審者に数値として記録する

## ユースケース
### アクター
 - 訪問者: 未ログインユーザー。
 - ユーザー: ログインユーザー。訪問者ができることはすべてできる
### webサイトユースケース一覧
- 訪問者が指定座標範囲内の不審者概要一覧を取得できる
- 訪問者が不審者詳細を取得できる
- ユーザーが不審者の目撃カウントを一つ増やせる
- ユーザーが不審者の目撃時刻を増やせる
- ユーザーが不審者を登録できる
- ユーザーが自分の登録した不審者を編集できる
- 訪問者がログインできる

## インターフェース
### web api
- GET /persons
    - params
        - lx
        - rx
        - ty
        - by
- GET /persons/{uuid}
    - 不審者の詳細情報取得
- POST /persons
    - 不審者の新規登録
- PUT /persons/{uuid}
    - 不審者情報の編集（自分が登録したもののみ）
- POST /persons/{uuid}/sighting-count
    - 目撃カウント
- POST /persons/{uuid}/sighting-time
    - 目撃時刻の追加
- POST /auth/signup
    - ユーザー新規登録
- POST /auth/login
    - ログイン
- POST /auth/logout
    - ログアウト
- GET /me
    - 自分のユーザー情報取得
- PUT /me
    - 自分のユーザー情報編集
- DELETE /me
    - 退会
